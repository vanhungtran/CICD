<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitLab CI/CD Documentation - Complete Reference Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-bg: #1e293b;
            --secondary-bg: #374151;
            --accent-cyan: #06b6d4;
            --accent-mint: #10b981;
            --accent-amber: #f59e0b;
            --text-primary: #ffffff;
            --text-secondary: #e2e8f0;
            --text-muted: #94a3b8;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--primary-bg);
            color: var(--text-primary);
        }
        
        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }
        
        .nav-glass {
            background: rgba(30, 41, 59, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(6, 182, 212, 0.2);
        }
        
        .doc-sidebar {
            background: rgba(55, 65, 81, 0.3);
            border-right: 1px solid rgba(6, 182, 212, 0.2);
        }
        
        .doc-content {
            background: rgba(15, 23, 42, 0.5);
        }
        
        .doc-section {
            background: rgba(55, 65, 81, 0.4);
            border: 1px solid rgba(6, 182, 212, 0.2);
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        
        .doc-section:hover {
            border-color: var(--accent-cyan);
            box-shadow: 0 4px 15px rgba(6, 182, 212, 0.1);
        }
        
        .keyword-tag {
            background: rgba(6, 182, 212, 0.2);
            color: var(--accent-cyan);
            border: 1px solid var(--accent-cyan);
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
            margin: 2px;
        }
        
        .code-block {
            background: #0f172a;
            border: 1px solid var(--secondary-bg);
            border-radius: 8px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 14px;
            line-height: 1.5;
            overflow-x: auto;
        }
        
        .syntax-keyword { color: #c678dd; }
        .syntax-string { color: #98c379; }
        .syntax-comment { color: #5c6370; font-style: italic; }
        .syntax-number { color: #d19a66; }
        .syntax-builtin { color: #e06c75; }
        
        .sidebar-nav {
            position: sticky;
            top: 100px;
            max-height: calc(100vh - 120px);
            overflow-y: auto;
        }
        
        .sidebar-nav::-webkit-scrollbar {
            width: 4px;
        }
        
        .sidebar-nav::-webkit-scrollbar-track {
            background: var(--secondary-bg);
        }
        
        .sidebar-nav::-webkit-scrollbar-thumb {
            background: var(--accent-cyan);
            border-radius: 2px;
        }
        
        .nav-item {
            padding: 8px 16px;
            border-radius: 6px;
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 3px solid transparent;
        }
        
        .nav-item:hover {
            background: rgba(6, 182, 212, 0.1);
            border-left-color: var(--accent-cyan);
        }
        
        .nav-item.active {
            background: rgba(6, 182, 212, 0.2);
            border-left-color: var(--accent-cyan);
            color: var(--accent-cyan);
        }
        
        .search-box {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid var(--secondary-bg);
            border-radius: 8px;
            padding: 12px 16px;
            color: var(--text-primary);
            width: 100%;
            transition: all 0.3s ease;
        }
        
        .search-box:focus {
            outline: none;
            border-color: var(--accent-cyan);
            box-shadow: 0 0 10px rgba(6, 182, 212, 0.3);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-mint));
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(6, 182, 212, 0.3);
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid var(--accent-cyan);
            padding: 10px 22px;
            border-radius: 8px;
            color: var(--accent-cyan);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: var(--accent-cyan);
            color: white;
        }
        
        .doc-content h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-mint));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .doc-content h2 {
            font-size: 1.875rem;
            font-weight: 600;
            margin: 2rem 0 1rem 0;
            color: var(--accent-cyan);
        }
        
        .doc-content h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 1.5rem 0 0.75rem 0;
            color: var(--accent-mint);
        }
        
        .doc-content h4 {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 1rem 0 0.5rem 0;
            color: var(--accent-amber);
        }
        
        .doc-content p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        
        .doc-content ul, .doc-content ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }
        
        .doc-content li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }
        
        .highlight-box {
            background: rgba(6, 182, 212, 0.1);
            border-left: 4px solid var(--accent-cyan);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }
        
        .warning-box {
            background: rgba(245, 158, 11, 0.1);
            border-left: 4px solid var(--accent-amber);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }
        
        .info-box {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid var(--accent-mint);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }
        
        .table-container {
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        .doc-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .doc-table th {
            background: var(--secondary-bg);
            color: var(--accent-cyan);
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        .doc-table td {
            padding: 12px;
            border-bottom: 1px solid var(--secondary-bg);
        }
        
        .doc-table tr:hover {
            background: rgba(6, 182, 212, 0.05);
        }
        
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.6s ease;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-glass fixed top-0 left-0 right-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <a href="index.html" class="font-mono text-xl font-bold text-cyan-400">GitLab CI/CD</a>
                    <div class="ml-2 text-sm text-gray-400">Documentation</div>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-gray-300 hover:text-cyan-400 transition-colors">Builder</a>
                    <a href="tutorial.html" class="text-gray-300 hover:text-cyan-400 transition-colors">Tutorial</a>
                    <a href="examples.html" class="text-gray-300 hover:text-cyan-400 transition-colors">Examples</a>
                    <a href="docs.html" class="text-cyan-400">Docs</a>
                </div>
                <button class="btn-primary" onclick="scrollToSection('search')">Search Docs</button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="pt-24 pb-12 px-4">
        <div class="max-w-6xl mx-auto text-center">
            <h1 class="text-4xl md:text-6xl font-mono font-bold mb-6">
                <span class="bg-gradient-to-r from-cyan-400 to-mint-400 bg-clip-text text-transparent">
                    Complete Documentation
                </span>
            </h1>
            <p class="text-xl text-gray-300 mb-8 max-w-3xl mx-auto">
                Comprehensive GitLab CI/CD reference guide with detailed explanations, 
                best practices, and practical examples for every skill level.
            </p>
            <div class="flex justify-center items-center space-x-6 text-sm text-gray-400">
                <span>📚 200+ Documented Features</span>
                <span>🎯 Practical Examples</span>
                <span>🔄 Regular Updates</span>
                <span>🔍 Searchable Content</span>
            </div>
        </div>
    </section>

    <!-- Search Section -->
    <section id="search" class="py-8 px-4 bg-slate-800/30">
        <div class="max-w-4xl mx-auto">
            <div class="flex flex-col md:flex-row gap-4 items-center">
                <div class="flex-1">
                    <input 
                        type="text" 
                        id="doc-search" 
                        class="search-box" 
                        placeholder="Search documentation... (e.g., 'stages', 'variables', 'docker')"
                        oninput="searchDocumentation()"
                    >
                </div>
                <div class="flex gap-2">
                    <button class="btn-secondary" onclick="clearSearch()">Clear</button>
                    <button class="btn-primary" onclick="advancedSearch()">Advanced Search</button>
                </div>
            </div>
            <div id="search-results" class="mt-4 hidden">
                <div class="bg-slate-800 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-cyan-400 mb-3">Search Results</h3>
                    <div id="search-results-content"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Documentation Content -->
    <section class="py-12 px-4">
        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
                <!-- Documentation Sidebar -->
                <div class="lg:col-span-1">
                    <div class="doc-sidebar rounded-lg p-4 sidebar-nav">
                        <h3 class="text-lg font-semibold mb-4 text-cyan-400">Documentation</h3>
                        
                        <div class="space-y-2 mb-6">
                            <div class="nav-item active" onclick="showSection('getting-started')">Getting Started</div>
                            <div class="nav-item" onclick="showSection('pipeline-basics')">Pipeline Basics</div>
                            <div class="nav-item" onclick="showSection('configuration')">Configuration</div>
                            <div class="nav-item" onclick="showSection('jobs')">Jobs</div>
                            <div class="nav-item" onclick="showSection('stages')">Stages</div>
                            <div class="nav-item" onclick="showSection('variables')">Variables</div>
                            <div class="nav-item" onclick="showSection('artifacts')">Artifacts</div>
                            <div class="nav-item" onclick="showSection('cache')">Cache</div>
                            <div class="nav-item" onclick="showSection('runners')">Runners</div>
                            <div class="nav-item" onclick="showSection('security')">Security</div>
                            <div class="nav-item" onclick="showSection('deployment')">Deployment</div>
                            <div class="nav-item" onclick="showSection('advanced')">Advanced Topics</div>
                            <div class="nav-item" onclick="showSection('troubleshooting')">Troubleshooting</div>
                            <div class="nav-item" onclick="showSection('reference')">Reference</div>
                        </div>

                        <h4 class="text-md font-semibold mb-3 text-mint-400">Quick Links</h4>
                        <div class="space-y-2 text-sm">
                            <a href="#yaml-syntax" class="block text-gray-300 hover:text-cyan-400 transition-colors">YAML Syntax</a>
                            <a href="#predefined-variables" class="block text-gray-300 hover:text-cyan-400 transition-colors">Predefined Variables</a>
                            <a href="#docker-integration" class="block text-gray-300 hover:text-cyan-400 transition-colors">Docker Integration</a>
                            <a href="#kubernetes" class="block text-gray-300 hover:text-cyan-400 transition-colors">Kubernetes</a>
                            <a href="#best-practices" class="block text-gray-300 hover:text-cyan-400 transition-colors">Best Practices</a>
                        </div>
                    </div>
                </div>

                <!-- Documentation Content -->
                <div class="lg:col-span-3 doc-content">
                    <!-- Getting Started Section -->
                    <div id="getting-started" class="doc-section p-8 mb-8 fade-in visible">
                        <h1>Getting Started with GitLab CI/CD</h1>
                        
                        <p class="text-lg text-gray-300 mb-6">
                            GitLab CI/CD is a powerful continuous integration and deployment tool built into GitLab. 
                            It helps you automate your software development lifecycle from code commit to production deployment.
                        </p>

                        <div class="highlight-box">
                            <h4 class="text-amber-400 font-semibold mb-2">Quick Start</h4>
                            <p>To get started with GitLab CI/CD, you need:</p>
                            <ul class="list-disc list-inside mt-2 space-y-1">
                                <li>A GitLab account (free at gitlab.com)</li>
                                <li>A project repository</li>
                                <li>A .gitlab-ci.yml file in your repository root</li>
                                <li>At least one available runner</li>
                            </ul>
                        </div>

                        <h2>Basic Concepts</h2>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                            <div class="info-box">
                                <h4 class="text-mint-400 font-semibold mb-2">Pipeline</h4>
                                <p>A pipeline is the entire CI/CD process that runs when you push code to GitLab. It consists of multiple stages and jobs that execute in a specific order.</p>
                            </div>
                            
                            <div class="info-box">
                                <h4 class="text-mint-400 font-semibold mb-2">Stage</h4>
                                <p>A stage is a logical grouping of jobs in a pipeline. Stages run sequentially, and jobs within a stage run in parallel. Common stages include build, test, and deploy.</p>
                            </div>
                            
                            <div class="info-box">
                                <h4 class="text-mint-400 font-semibold mb-2">Job</h4>
                                <p>A job is the smallest unit of work in a pipeline. It executes commands, runs scripts, and produces artifacts. Each job runs independently on a runner.</p>
                            </div>
                            
                            <div class="info-box">
                                <h4 class="text-mint-400 font-semibold mb-2">Runner</h4>
                                <p>A runner is an agent that executes jobs. GitLab provides shared runners, or you can set up your own self-hosted runners for more control and security.</p>
                            </div>
                        </div>

                        <h2>Your First Pipeline</h2>
                        
                        <p>Create a .gitlab-ci.yml file in your repository root with this basic configuration:</p>
                        
                        <div class="code-block p-4 mb-6">
                            <pre class="text-sm"><span class="syntax-comment"># This is a basic GitLab CI/CD pipeline configuration</span>
<span class="syntax-keyword">stages</span>:
  - build
  - test
  - deploy

<span class="syntax-comment"># Build stage</span>
build-job:
  stage: build
  script:
    - echo "Building the application..."
    - make build
    - echo "Build completed!"

<span class="syntax-comment"># Test stage</span>
test-job:
  stage: test
  script:
    - echo "Running tests..."
    - make test
    - echo "Tests passed!"

<span class="syntax-comment"># Deploy stage</span>
deploy-job:
  stage: deploy
  script:
    - echo "Deploying to production..."
    - make deploy
    - echo "Deployment successful!"
  environment: production</pre>
                        </div>

                        <div class="warning-box">
                            <h4 class="text-amber-400 font-semibold mb-2">Important Notes</h4>
                            <ul class="list-disc list-inside space-y-1">
                                <li>YAML syntax is indentation-sensitive - use spaces, not tabs</li>
                                <li>Each job must belong to a defined stage</li>
                                <li>Jobs in the same stage run in parallel</li>
                                <li>Stages run sequentially in the order defined</li>
                            </ul>
                        </div>

                        <h2>Next Steps</h2>
                        
                        <p>Once you have your basic pipeline working, you can explore more advanced topics:</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
                            <div class="doc-section p-4 cursor-pointer" onclick="showSection('variables')">
                                <h4 class="text-cyan-400 font-semibold mb-2">Variables</h4>
                                <p class="text-sm text-gray-300">Learn how to use variables for configuration and secrets management</p>
                            </div>
                            
                            <div class="doc-section p-4 cursor-pointer" onclick="showSection('artifacts')">
                                <h4 class="text-cyan-400 font-semibold mb-2">Artifacts</h4>
                                <p class="text-sm text-gray-300">Pass data between jobs and preserve build outputs</p>
                            </div>
                            
                            <div class="doc-section p-4 cursor-pointer" onclick="showSection('deployment')">
                                <h4 class="text-cyan-400 font-semibold mb-2">Deployment</h4>
                                <p class="text-sm text-gray-300">Deploy to multiple environments with advanced strategies</p>
                            </div>
                        </div>
                    </div>

                    <!-- Pipeline Basics Section -->
                    <div id="pipeline-basics" class="doc-section p-8 mb-8 fade-in" style="display: none;">
                        <h1>Pipeline Basics</h1>
                        
                        <p class="text-lg text-gray-300 mb-6">
                            Understanding the fundamental building blocks of GitLab CI/CD pipelines is essential 
                            for creating efficient and maintainable automation workflows.
                        </p>

                        <h2>Pipeline Structure</h2>
                        
                        <p>A GitLab CI/CD pipeline is defined in a .gitlab-ci.yml file and consists of the following components:</p>
                        
                        <div class="table-container">
                            <table class="doc-table">
                                <thead>
                                    <tr>
                                        <th>Component</th>
                                        <th>Description</th>
                                        <th>Example</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>stages</strong></td>
                                        <td>Defines the pipeline stages and their order</td>
                                        <td><code class="font-mono text-sm">stages: [build, test, deploy]</code></td>
                                    </tr>
                                    <tr>
                                        <td><strong>variables</strong></td>
                                        <td>Global variables available to all jobs</td>
                                        <td><code class="font-mono text-sm">variables: { APP_NAME: "myapp" }</code></td>
                                    </tr>
                                    <tr>
                                        <td><strong>before_script</strong></td>
                                        <td>Commands run before each job</td>
                                        <td><code class="font-mono text-sm">before_script: ["apt-get update"]</code></td>
                                    </tr>
                                    <tr>
                                        <td><strong>after_script</strong></td>
                                        <td>Commands run after each job</td>
                                        <td><code class="font-mono text-sm">after_script: ["cleanup"]</code></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Jobs</strong></td>
                                        <td>Individual units of work</td>
                                        <td><code class="font-mono text-sm">build-job: { stage: build }</code></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h2>Pipeline Execution Flow</h2>
                        
                        <div class="highlight-box">
                            <h4 class="text-amber-400 font-semibold mb-3">Execution Order</h4>
                            <ol class="list-decimal list-inside space-y-2">
                                <li><strong>before_script</strong> runs before each job</li>
                                <li><strong>script</strong> commands execute in order</li>
                                <li><strong>after_script</strong> runs after each job (even if script fails)</li>
                                <li>Jobs in the same stage run in parallel</li>
                                <li>Stages execute sequentially in defined order</li>
                                <li>Pipeline stops if any job fails (unless allow_failure: true)</li>
                            </ol>
                        </div>

                        <h2>Common Pipeline Patterns</h2>
                        
                        <h3>Basic Build-Test-Deploy</h3>
                        <div class="code-block p-4 mb-4">
                            <pre class="text-sm"><span class="syntax-keyword">stages</span>:
  - build
  - test
  - deploy

<span class="syntax-comment"># Build application</span>
build:
  stage: build
  script:
    - npm install
    - npm run build
  artifacts:
    paths:
      - dist/

<span class="syntax-comment"># Run tests</span>
test:
  stage: test
  script:
    - npm run test
  coverage: '/Lines\\s*\\:\\s*(\\d+\\.\\d+%)/'

<span class="syntax-comment"># Deploy to production</span>
deploy:
  stage: deploy
  script:
    - rsync -av dist/ server:/var/www/html/
  environment: production
  only:
    - main</pre>
                        </div>

                        <h3>Multi-Environment Deployment</h3>
                        <div class="code-block p-4 mb-4">
                            <pre class="text-sm"><span class="syntax-keyword">stages</span>:
  - build
  - test
  - deploy

<span class="syntax-comment"># Deploy to staging</span>
deploy-staging:
  stage: deploy
  script:
    - helm upgrade --install myapp-staging ./chart
      --set image.tag=$CI_COMMIT_SHA
      --set environment=staging
  environment:
    name: staging
    url: https://staging.example.com
  only:
    - develop

<span class="syntax-comment"># Deploy to production</span>
deploy-production:
  stage: deploy
  script:
    - helm upgrade --install myapp-prod ./chart
      --set image.tag=$CI_COMMIT_SHA
      --set environment=production
  environment:
    name: production
    url: https://example.com
  only:
    - main
  when: manual</pre>
                        </div>

                        <div class="info-box">
                            <h4 class="text-mint-400 font-semibold mb-2">Best Practices</h4>
                            <ul class="list-disc list-inside space-y-1">
                                <li>Keep stages simple and focused on specific tasks</li>
                                <li>Use parallel jobs within stages for faster execution</li>
                                <li>Always include tests in your pipeline</li>
                                <li>Use environments for deployment tracking</li>
                                <li>Leverage artifacts to pass data between jobs</li>
                                <li>Implement proper error handling and notifications</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Configuration Section -->
                    <div id="configuration" class="doc-section p-8 mb-8 fade-in" style="display: none;">
                        <h1>Pipeline Configuration</h1>
                        
                        <p class="text-lg text-gray-300 mb-6">
                            Master the art of GitLab CI/CD configuration with advanced techniques for creating 
                            robust, maintainable, and efficient pipelines.
                        </p>

                        <h2>Global Configuration</h2>
                        
                        <p>Global configuration applies to the entire pipeline and is defined at the root level of your .gitlab-ci.yml file:</p>
                        
                        <div class="code-block p-4 mb-6">
                            <pre class="text-sm"><span class="syntax-comment"># Global pipeline configuration</span>
<span class="syntax-keyword">stages</span>:
  - build
  - test
  - security
  - deploy

<span class="syntax-keyword">variables</span>:
  GLOBAL_VAR: "value"
  APP_NAME: "my-application"
  DOCKER_REGISTRY: "registry.gitlab.com"

<span class="syntax-keyword">before_script</span>:
  - echo "Pipeline started at $(date)"
  - apt-get update -qq && apt-get install -y -qq dependencies

<span class="syntax-keyword">after_script</span>:
  - echo "Pipeline completed"
  - cleanup_temporary_files

<span class="syntax-keyword">cache</span>:
  paths:
    - node_modules/
    - .pip-cache/
  key: "$CI_COMMIT_REF_SLUG"

<span class="syntax-keyword">default</span>:
  image: node:16
  before_script:
    - npm ci --cache .npm --prefer-offline</pre>
                        </div>

                        <h2>Job Configuration</h2>
                        
                        <p>Jobs are the building blocks of your pipeline. Here's a comprehensive job configuration example:</p>
                        
                        <div class="code-block p-4 mb-6">
                            <pre class="text-sm"><span class="syntax-comment"># Comprehensive job configuration</span>
complex-job:
  <span class="syntax-comment"># Basic identification</span>
  stage: test
  
  <span class="syntax-comment"># Execution environment</span>
  image: python:3.9
  services:
    - postgres:13
    - redis:6
  
  <span class="syntax-comment"># Script execution</span>
  before_script:
    - pip install -r requirements.txt
    - python setup_test_db.py
  
  script:
    - echo "Running comprehensive tests"
    - python -m pytest tests/ --cov=myapp --junitxml=test-results.xml
    - python -m flake8 myapp/
    - python -m mypy myapp/
  
  after_script:
    - python cleanup_test_db.py
  
  <span class="syntax-comment"># Artifacts and reports</span>
  artifacts:
    paths:
      - test-results.xml
      - coverage.xml
      - dist/
    reports:
      junit: test-results.xml
      coverage_report:
        coverage_format: cobertura
        path: coverage.xml
    expire_in: 1 week
    when: always
  
  <span class="syntax-comment"># Caching</span>
  cache:
    paths:
      - .pytest_cache/
      - .mypy_cache/
    policy: pull-push
  
  <span class="syntax-comment"># Dependencies</span>
  dependencies:
    - build-job
  
  <span class="syntax-comment"># Execution control</span>
  only:
    - main
    - develop
    - merge_requests
  
  except:
    - tags
  
  when: on_success
  allow_failure: false
  
  <span class="syntax-comment"># Environment</span>
  environment:
    name: test
    url: https://test.example.com
    action: verify
  
  <span class="syntax-comment"># Parallel execution</span>
  parallel:
    matrix:
      - PYTHON_VERSION: ["3.8", "3.9", "3.10"]
        TEST_SUITE: ["unit", "integration"]
  
  <span class="syntax-comment"># Resource limits</span>
  timeout: 1h
  retry: 2
  
  <span class="syntax-comment"># Custom variables</span>
  variables:
    JOB_SPECIFIC_VAR: "value"
    DATABASE_URL: "postgresql://postgres:password@postgres:5432/test_db"</pre>
                        </div>

                        <h2>Conditional Pipeline Execution</h2>
                        
                        <p>Use rules for more flexible and powerful pipeline execution control:</p>
                        
                        <div class="code-block p-4 mb-6">
                            <pre class="text-sm"><span class="syntax-comment"># Advanced conditional execution with rules</span>
smart-deploy:
  stage: deploy
  script:
    - ./deploy.sh
  
  rules:
    <span class="syntax-comment"># Deploy main branch to production</span>
    - if: '$CI_COMMIT_BRANCH == "main"'
      variables:
        DEPLOY_ENV: "production"
      when: manual
    
    <span class="syntax-comment"># Deploy develop branch to staging</span>
    - if: '$CI_COMMIT_BRANCH == "develop"'
      variables:
        DEPLOY_ENV: "staging"
    
    <span class="syntax-comment"># Deploy feature branches to review apps</span>
    - if: '$CI_COMMIT_BRANCH =~ /^feature\//'
      variables:
        DEPLOY_ENV: "review"
        REVIEW_APP_URL: "https://$CI_COMMIT_REF_SLUG.example.com"
    
    <span class="syntax-comment"># Don't deploy other branches</span>
    - when: never</pre>
                        </div>

                        <div class="highlight-box">
                            <h4 class="text-amber-400 font-semibold mb-2">Configuration Tips</h4>
                            <ul class="list-disc list-inside space-y-1">
                                <li>Use extends to reduce configuration duplication</li>
                                <li>Leverage hidden jobs (starting with .) for templates</li>
                                <li>Use anchors and aliases for YAML configuration reuse</li>
                                <li>Implement proper error handling with retry and timeout</li>
                                <li>Use matrix jobs for testing multiple configurations</li>
                                <li>Implement security scanning in your pipelines</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Additional sections would continue here -->
                    <!-- For brevity, I'm including placeholders for the remaining sections -->
                    
                    <div id="jobs" class="doc-section p-8 mb-8 fade-in" style="display: none;">
                        <h1>Jobs Configuration</h1>
                        <p class="text-gray-300">Comprehensive guide to job configuration, execution, and optimization...</p>
                        <!-- Detailed jobs content would go here -->
                    </div>
                    
                    <div id="stages" class="doc-section p-8 mb-8 fade-in" style="display: none;">
                        <h1>Pipeline Stages</h1>
                        <p class="text-gray-300">Understanding pipeline stages, dependencies, and execution order...</p>
                        <!-- Detailed stages content would go here -->
                    </div>
                    
                    <div id="variables" class="doc-section p-8 mb-8 fade-in" style="display: none;">
                        <h1>Variables and Secrets</h1>
                        <p class="text-gray-300">Working with CI/CD variables, environment variables, and secret management...</p>
                        <!-- Detailed variables content would go here -->
                    </div>
                    
                    <!-- Continue with remaining sections... -->
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-900 py-8 px-4 border-t border-slate-700">
        <div class="max-w-7xl mx-auto text-center">
            <div class="font-mono text-lg font-bold text-cyan-400 mb-2">GitLab CI/CD Masterclass</div>
            <p class="text-gray-400 text-sm">
                © 2025 GitLab CI/CD Tutorial. Educational content for learning modern DevOps practices.
            </p>
        </div>
    </footer>

    <script>
        // Documentation Navigation and Search
        let currentSection = 'getting-started';
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            setupScrollAnimations();
            initializeSearch();
        });

        function showSection(sectionId) {
            // Hide current section
            document.getElementById(currentSection).style.display = 'none';
            document.querySelector(`[onclick="showSection('${currentSection}')"]`).classList.remove('active');
            
            // Show new section
            document.getElementById(sectionId).style.display = 'block';
            document.querySelector(`[onclick="showSection('${sectionId}')"]`).classList.add('active');
            
            currentSection = sectionId;
            
            // Scroll to top of content
            document.querySelector('.doc-content').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }

        function searchDocumentation() {
            const searchTerm = document.getElementById('doc-search').value.toLowerCase();
            const resultsContainer = document.getElementById('search-results');
            const resultsContent = document.getElementById('search-results-content');
            
            if (searchTerm.length < 2) {
                resultsContainer.classList.add('hidden');
                return;
            }
            
            // Mock search results (in a real implementation, this would query a search index)
            const mockResults = [
                {
                    title: "Pipeline Configuration",
                    description: "Configure your GitLab CI/CD pipeline with advanced options",
                    section: "configuration",
                    relevance: 95
                },
                {
                    title: "Variables and Secrets",
                    description: "Manage variables and secrets in your CI/CD pipeline",
                    section: "variables", 
                    relevance: 88
                },
                {
                    title: "Jobs and Stages",
                    description: "Understanding jobs and stages in GitLab CI/CD",
                    section: "jobs",
                    relevance: 82
                }
            ].filter(result => 
                result.title.toLowerCase().includes(searchTerm) || 
                result.description.toLowerCase().includes(searchTerm)
            );
            
            if (mockResults.length > 0) {
                resultsContent.innerHTML = mockResults.map(result => `
                    <div class="p-3 border-b border-slate-600 last:border-b-0 cursor-pointer hover:bg-slate-700" 
                         onclick="showSection('${result.section}')">
                        <h4 class="text-cyan-400 font-semibold">${result.title}</h4>
                        <p class="text-sm text-gray-300 mt-1">${result.description}</p>
                        <span class="text-xs text-gray-500">Relevance: ${result.relevance}%</span>
                    </div>
                `).join('');
                
                resultsContainer.classList.remove('hidden');
            } else {
                resultsContent.innerHTML = '<p class="text-gray-400 p-4">No results found. Try different keywords.</p>';
                resultsContainer.classList.remove('hidden');
            }
        }

        function clearSearch() {
            document.getElementById('doc-search').value = '';
            document.getElementById('search-results').classList.add('hidden');
        }

        function advancedSearch() {
            alert('Advanced search feature coming soon! This will include filters for sections, content types, and skill levels.');
        }

        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        function setupScrollAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.fade-in').forEach(el => {
                observer.observe(el);
            });
        }

        function initializeSearch() {
            const searchInput = document.getElementById('doc-search');
            let searchTimeout;
            
            searchInput.addEventListener('input', () => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    searchDocumentation();
                }, 300);
            });
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + K to focus search
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                document.getElementById('doc-search').focus();
            }
            
            // Escape to clear search
            if (e.key === 'Escape') {
                clearSearch();
            }
        });
    </script>
</body>
</html>